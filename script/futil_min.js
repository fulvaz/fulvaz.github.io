!function(n){function e(n){return n.length?Array.prototype.slice.call(n):[n]}function t(n){for(var e=[],t=0;t<n.length;t++)e=e.concat(n[t]);return e}function o(n){var e=n.style.display;for(n.style.display="none";n.firstChild;)n.removeChild(n.firstChild);n.style.display=e}function r(n){var e=new XMLHttpRequest,n=n||{};e.onreadystatechange=function(){4==e.readyState&&200==e.status&&n.callback(e)},e.open(n.requestMethod,n.url),e.send(n.content)}function l(n,e){var t=u.createElement("img");t.src=e,n.appendChild(t)}function a(n,e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var e=JSON.parse(t.responseText),o=n.style.display;n.style.display="none",e.forEach(function(e){l(n,e)}),n.style.display=o}},t.open("get",e),t.send()}function i(){function n(){var n;if(0===o.length)return void e();for(n=0;n<o.length;n++)o[n].end?o.splice(n--,1):o[n]()}function e(){clearInterval(t),t=null}var t=null,o=[];return function(e,r,l){function a(){d.end=!0}var i,u,c,s,d,f=new Image;return f.src=e,i=f.width,u=f.height,f.onerror=function(){f.onload=f.onerror=null,l&&l(f),a()},f.complete?void r(f):(f.onload=function(){f.onload=f.onerror=null,r&&r(f),a()},d=function(){c=f.width,s=f.height,i===c&&u===s&&c*s>0&&(f.onload=f.onerror=null,r(f),a()),i=c,u=s},d(),o.push(d),void(null===t&&(t=setInterval(n,100))))}}var u=n.document,c=function(n){return u.querySelector(n)};c.ajax=r,c.toArray=e,c.toLowerDimension=t,c.clearInnerDOM=o,c.loadImgFromJson=a,c.imgWHDetect=i(),n.futil=c}(window);