<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="author" content="Fulvaz"><meta name="description" content="我只是个混github连击的"><title>[CSS-TRICKS]如何清除浮动? | Fulvaz PlayGroud</title><link href="/favicon.png" rel="icon"><link rel="alternate" href="/atom.xml" title="Fulvaz PlayGroud" type="application/atom.xml"><link href="http://fonts.lug.ustc.edu.cn/css?family=Open+Sans:400" rel="stylesheet"><link href="http://fonts.lug.ustc.edu.cn/css?family=Source+Code+Pro:400,600" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/stylesheets/app.css"></head><body><nav class="slide-menu"><div class="container"><div id="slide-introduction"><section id="slide-avator"></section><section id="slide-name"><p>Fulvaz</p></section><section id="slide-introduction-content"><p>半路出家伪文艺码农</p></section><section id="slide-contacts"></section></div><ul><li><a href="/about">About</a></li><li><a href="/archives">Archive</a></li><li><a href="https://github.com/subuta/hexo-jade-sass-barebone">Source</a></li></ul></div></nav><section id="top-head"><div id="top-head-wraper"><a href="/">Fulvaz PlayGroud</a><i id="top-head-menu-button" aria-hidden="true" class="fa fa-bars"></i></div></section><div class="wrapper"><header id="page-header"><div class="header-background-container"><video loop="true" mute="true" autoplay="true" poster="http://7xp7jw.com1.z0.glb.clouddn.com/myTheme/static/images/header-background.jpg" class="header-background-video"><source src="http://7xp7jw.com1.z0.glb.clouddn.com/myTheme/static/videos/Blurry-Lights.webm" type="video/webm"><source src="http://7xp7jw.com1.z0.glb.clouddn.com/myTheme/static/videos/Blurry-Lights.mp4" type="video/mp4"><source src="http://7xp7jw.com1.z0.glb.clouddn.com/myTheme/static/videos/Blurry-Lights.ogv" type="video/ogv"></video></div><div class="header-background-shelter"></div><div id="masthead"><div class="wrapper"><h1 id="site-title">Fulvaz PlayGroud</h1><p id="description">我只是个混github连击的</p></div></div></header><section id="content"><article class="post"><div class="article-head"><h2 class="article-title">[CSS-TRICKS]如何清除浮动?</h2><div class="meta article-date">2017-06-24</div></div><div class="article-content markdown-body"><p><p>注意: CSS-TRICKS的文章我推荐去看原文, 因为他们总是在更新. 本文已经注明了原文发表与本文翻译时间.</p>
<h2 id="原文信息"><a href="#原文信息" class="headerlink" title="原文信息"></a>原文信息</h2><p>原文：<a href="https://css-tricks.com/snippets/css/clear-fix/" target="_blank" rel="external">The Clearfix: Force an Element To Self-Clear its Children</a></p>
<p>原文作者: <a href="https://css-tricks.com/author/chriscoyier/" target="_blank" rel="external">Chris Coyier</a></p>
<p>原文最后更新时间时间：2017-02-26</p>
<p>翻译时间: 2017-06-24</p>
<h2 id="翻译作者信息"><a href="#翻译作者信息" class="headerlink" title="翻译作者信息"></a>翻译作者信息</h2><p>翻译作者：毕业失业的fulvaz</p>
<p>联系方式：fulvaz@foxmail.com</p>
<p>FBI Warning: 翻译时优先关注原文的本意, 而非其实际内容, 介意请看原文</p>
<hr>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>以下代码在现代浏览器很好用</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.group</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">  <span class="attribute">display</span>: table;</div><div class="line">  <span class="attribute">clear</span>: both;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>将这段代码用在父元素上, 你就能把父元素内的子元素浮动全给清除了, 举个栗子:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"group"</span>&gt;</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"is-floated"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div><div class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"is-floated"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div><div class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"is-floated"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div><div class="line">&lt;<span class="regexp">/div&gt;</span></div></pre></td></tr></table></figure>
<p>上古方法是把<code>&lt;br style=&quot;clear: both;&quot; /&gt;</code>这段放在父元素中的最末端, 这样不好记, 语义化低. 另一个上古方法是给父元素的CSS加<code>overflow: hidden;</code>, 问题是, 有些时候你就是想让父元素overflow不为hidden.</p>
<p>很明显这些都不给力啊! 那咋办呢</p>
<p>好了, 现在是各路大神对清除浮动的探索历史</p>
<p>首先是这个, 该版本目的是为了兼容尽可能久远的浏览器</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">  <span class="attribute">visibility</span>: hidden;</div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">content</span>: <span class="string">" "</span>;</div><div class="line">  <span class="attribute">clear</span>: both;</div><div class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.clearfix</span> &#123; <span class="attribute">display</span>: inline-block; &#125;</div><div class="line"><span class="comment">/* start commented backslash hack \*/</span></div><div class="line">* <span class="selector-tag">html</span> <span class="selector-class">.clearfix</span> &#123; <span class="attribute">height</span>: <span class="number">1%</span>; &#125;</div><div class="line"><span class="selector-class">.clearfix</span> &#123; <span class="attribute">display</span>: block; &#125;</div><div class="line"><span class="comment">/* close commented backslash hack */</span></div></pre></td></tr></table></figure>
<p>嗯..很复杂, 然后是稍微好看一点的版本, 由Jeff Starr<a href="http://perishablepress.com/press/2008/02/05/lessons-learned-concerning-the-clearfix-css-hack/" target="_blank" rel="external">提出</a>, 因为那时候已经没人用IE for Mac了 (译注: 应该08年, 了解<a href="https://zh.wikipedia.org/wiki/Internet_Explorer_for_Mac" target="_blank" rel="external">IE for Mac</a>), 所以代码中那段<code>backslash hack</code>可以去掉, 这时清除浮动代码如下:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">  <span class="attribute">visibility</span>: hidden;</div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">content</span>: <span class="string">" "</span>;</div><div class="line">  <span class="attribute">clear</span>: both;</div><div class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line">* <span class="selector-tag">html</span> <span class="selector-class">.clearfix</span>             &#123; <span class="attribute">zoom</span>: <span class="number">1</span>; &#125; <span class="comment">/* IE6 */</span></div><div class="line">*<span class="selector-pseudo">:first-child+html</span> <span class="selector-class">.clearfix</span> &#123; <span class="attribute">zoom</span>: <span class="number">1</span>; &#125; <span class="comment">/* IE7 */</span></div></pre></td></tr></table></figure>
<p>然后, 在Dan Cederholm的带领下, 用”group”作为类名成了潮流, 这样可以使html更优雅而且语义化. 另外, <code>content</code>属性不在需要空格, 用空字符串也可以(Nicolas Gallagher说的). 然后, 因为不需要任何文字, 那<code>font-size</code>也不需要了(Chris Coyier说的), 再次简化: (译注: zoom属性与hasLayout相关)</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.group</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">  <span class="attribute">visibility</span>: hidden;</div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">  <span class="attribute">clear</span>: both;</div><div class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line">* <span class="selector-tag">html</span> <span class="selector-class">.group</span>             &#123; <span class="attribute">zoom</span>: <span class="number">1</span>; &#125; <span class="comment">/* IE6 */</span></div><div class="line">*<span class="selector-pseudo">:first-child+html</span> <span class="selector-class">.group</span> &#123; <span class="attribute">zoom</span>: <span class="number">1</span>; &#125; <span class="comment">/* IE7 */</span></div></pre></td></tr></table></figure>
<p>如果你不想支持IE 6或者IE 7, 那去掉后面两行也是可以的</p>
<blockquote>
<p>2011-05-18更新: Nicolas Gallagher对上古浏览器的清除浮动又写了几篇文章: <a href="http://nicolasgallagher.com/micro-clearfix-hack/" target="_blank" rel="external">“micro” clearfix</a>与<a href="http://nicolasgallagher.com/better-float-containment-in-ie/" target="_blank" rel="external">additional stuff</a></p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.group</span><span class="selector-pseudo">:before</span>,</div><div class="line"><span class="selector-class">.group</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">  <span class="attribute">display</span>: table;</div><div class="line">&#125; </div><div class="line"><span class="selector-class">.group</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">  <span class="attribute">clear</span>: both;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.group</span> &#123;</div><div class="line">  <span class="attribute">zoom</span>: <span class="number">1</span>; <span class="comment">/* For IE 6/7 (trigger hasLayout) */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当前最好用的方法? 看本文的第一段代码</p>
<p>将来的代码? </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.group</span> &#123;</div><div class="line">  <span class="attribute">display</span>: flow-root;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>(译注: ….下次翻译文章应该先看看文章长度的)</p>
<a id="more"></a>
</p></div></article></section><nav id="article-list-pagination"><a href="/2017/06/24/翻译-用上古思想写现代前端/" title="下一页 article: [翻译]用上古思想写现代前端" class="next">下一页 &rarr;</a></nav><footer id="page-footer"><nav id="footer-menu"><ul><li><a href="/about">About</a></li><li><a href="/archives">Archive</a></li><li><a href="https://github.com/fulvaz/hexo-theme">Source</a></li></ul></nav></footer></div><script src="/script/futil_min.js"></script><script src="/script/app_0.1_min.js"></script></body></html>